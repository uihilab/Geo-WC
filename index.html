<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Include Chart.js via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- <script type="module" src="./lib/test.js"></script> -->
    <!-- <script type="module" src="shadowDOM.js"></script> -->
    <script type="module" src="./lib/usgs/usgsComponent.js"></script>
    <script type="module" src="./lib/visualize/dataTableComponent.js"></script>
    <script type="module" src="./lib/visualize/graphComponent.js"></script>
    <script type="module" src="./lib/output/outputComponent.js"></script>
    <title>GeoWebComponent</title>

</head>

<template id="dynamic-component-template">
    <div id="jsonData"></div>
</template>

<template id="generic-component-template">
    <form>
        <label for="url">Source URL:</label>
        <input type="url" id="source_url" required>
        <br><br>

        <label for="sdate">Start Date:</label>
        <input type="date" id="start_date" required>
        <br><br>

        <label for="fdate">Finish Date:</label>
        <input type="date" id="finish_date" required>
        <br><br>

        <button id="captureScreenshot">Capture Screenshot</button>
    </form>
    <slot name="subComponent"></slot>
</template>

<template id="fema-component-template">
    <slot name="subComponent"></slot>
</template>

<body>
    <usgs-component id="usgs" service="instant-values" proxy="https://hydroinformatics.uiowa.edu/lab/cors/">
        <api-arguments-raw site="USGS:02056000" startDt="2023-11-01" endDt="2023-11-02"
            parameterCd="00060"></api-arguments-raw>
        <api-arguments startDate="2023-11-01" timeInterval="1d"></api-arguments>
        <!-- <fields keep='["dateTime", "value"]'></fields> -->
        <!-- <data-table-component slot="subComponent" showHeaders="true"></data-table-component> -->
        <!-- <graph-component slot="subComponent" type="line" xTitle="true"></graph-component> -->
        <output-component slot="subComponent" type="json"></output-component>
        <output-component slot="subComponent" type="csv"></output-component>
    </usgs-component>
    <!-- <fema-component startDate="10/10/2023" endDate="10/10/2023">
        <data-table-component slot="subComponent" showHeaders="true" ></data-table-component>
        <graph-component slot="subComponent" type="line" xTitle="true"></graph-component>
    </fema-component> -->

    <script>
        function changeAttribute(componentId, attributeName, newValue) {
            // Assuming your web component has an ID
            var component = document.getElementById(componentId);

            // Check if the component with the given ID exists
            if (component) {
                // Change the value of the attribute
                component.setAttribute(attributeName, newValue);

                // You can also log the updated value to the console
                //console.log(`Updated ${attributeName} attribute to: ${newValue}`);
            } else {
                console.error(`Component with ID ${componentId} not found.`);
            }
        }
    </script>
</body>

</html>